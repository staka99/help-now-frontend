{"ast":null,"code":"import _slicedToArray from\"C:/Users/Desktop/Desktop/ERP/Projekat/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import axios from\"axios\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,1),ime=_useState2[0];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,1),prezime=_useState4[0];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),lozinka=_useState8[0],setLozinka=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,1),uloga=_useState10[0];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),loginStatus=_useState12[0],setLoginStatus=_useState12[1];axios.defaults.withCredentials=true;var login=function login(){axios.post(\"http://localhost:3100/login\",{ime:ime,prezime:prezime,email:email,lozinka:lozinka}).then(function(response){if(response.data.message){setLoginStatus(response.data.message);}else{window.location.reload(false);setLoginStatus(response.data[0].ime+' '+response.data[0].prezime);}});};useEffect(function(){axios.get(\"http://localhost:3100/login\").then(function(response){if(response.data.loggedIn===true){setLoginStatus(response.data.user[0].ime+' '+response.data.user[0].prezime);}});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"formContainer\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Email: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"inputCreatePost\",type:\"email\",placeholder:\"Unesite email\",onChange:function onChange(e){setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\" Lozinka: \"}),/*#__PURE__*/_jsx(\"input\",{id:\"inputCreatePost\",type:\"password\",placeholder:\"Unesite lozinku\",onChange:function onChange(e){setLozinka(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\" Login \"})]})});}export default Login;","map":{"version":3,"names":["React","useEffect","axios","useState","Login","ime","prezime","email","setEmail","lozinka","setLozinka","uloga","loginStatus","setLoginStatus","defaults","withCredentials","login","post","then","response","data","message","window","location","reload","get","loggedIn","user","e","target","value"],"sources":["C:/Users/Desktop/Desktop/ERP/Projekat/client/src/pages/Login.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\nfunction Login() {\r\n  const [ime] = useState(\"\");\r\n  const [prezime] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [lozinka, setLozinka] = useState(\"\");\r\n  const [uloga] = useState(\"\");\r\n\r\n  const[loginStatus, setLoginStatus] = useState(\"\");\r\n\r\n  axios.defaults.withCredentials = true;\r\n\r\n    const login = () => {\r\n      axios.post(\"http://localhost:3100/login\", {\r\n        ime: ime,\r\n        prezime: prezime,\r\n        email: email,\r\n        lozinka: lozinka,\r\n      }).then((response) => {\r\n        if(response.data.message) {\r\n          setLoginStatus(response.data.message);\r\n        } else {\r\n          window.location.reload(false);\r\n          setLoginStatus(response.data[0].ime + ' ' + response.data[0].prezime);\r\n        }\r\n      });\r\n    };\r\n\r\n    useEffect(()=>{\r\n      axios.get(\"http://localhost:3100/login\").then((response) => {\r\n        if(response.data.loggedIn === true){  \r\n          setLoginStatus(response.data.user[0].ime + ' ' + response.data.user[0].prezime);\r\n        }\r\n      })\r\n    }, [])\r\n\r\n  return (\r\n    <div className='login' >\r\n      <div className='formContainer'>\r\n                  <label> Email: </label>\r\n                  <input id=\"inputCreatePost\" type=\"email\" placeholder='Unesite email' onChange={(e)=> {\r\n                    setEmail(e.target.value);\r\n                  }}/>\r\n                  <label> Lozinka: </label>\r\n                  <input id=\"inputCreatePost\" type=\"password\" placeholder='Unesite lozinku' onChange={(e)=> {\r\n                    setLozinka(e.target.value);\r\n                  }}/>                    \r\n                  <button onClick={login}> Login </button>\r\n      </div>\r\n    </div>\r\n    )\r\n  }\r\n  \r\n\r\nexport default Login\r\n\r\n\r\n"],"mappings":"kIAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,QAASC,MAAT,EAAiB,CACf,cAAcD,QAAQ,CAAC,EAAD,CAAtB,wCAAOE,GAAP,eACA,eAAkBF,QAAQ,CAAC,EAAD,CAA1B,yCAAOG,OAAP,eACA,eAA0BH,QAAQ,CAAC,EAAD,CAAlC,yCAAOI,KAAP,eAAcC,QAAd,eACA,eAA8BL,QAAQ,CAAC,EAAD,CAAtC,yCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAAgBP,QAAQ,CAAC,EAAD,CAAxB,0CAAOQ,KAAP,gBAEA,gBAAqCR,QAAQ,CAAC,EAAD,CAA7C,2CAAMS,WAAN,gBAAmBC,cAAnB,gBAEAX,KAAK,CAACY,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAEE,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClBd,KAAK,CAACe,IAAN,CAAW,6BAAX,CAA0C,CACxCZ,GAAG,CAAEA,GADmC,CAExCC,OAAO,CAAEA,OAF+B,CAGxCC,KAAK,CAAEA,KAHiC,CAIxCE,OAAO,CAAEA,OAJ+B,CAA1C,EAKGS,IALH,CAKQ,SAACC,QAAD,CAAc,CACpB,GAAGA,QAAQ,CAACC,IAAT,CAAcC,OAAjB,CAA0B,CACxBR,cAAc,CAACM,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAd,CACD,CAFD,IAEO,CACLC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACAX,cAAc,CAACM,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBf,GAAjB,CAAuB,GAAvB,CAA6Bc,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBd,OAA/C,CAAd,CACD,CACF,CAZD,EAaD,CAdD,CAgBAL,SAAS,CAAC,UAAI,CACZC,KAAK,CAACuB,GAAN,CAAU,6BAAV,EAAyCP,IAAzC,CAA8C,SAACC,QAAD,CAAc,CAC1D,GAAGA,QAAQ,CAACC,IAAT,CAAcM,QAAd,GAA2B,IAA9B,CAAmC,CACjCb,cAAc,CAACM,QAAQ,CAACC,IAAT,CAAcO,IAAd,CAAmB,CAAnB,EAAsBtB,GAAtB,CAA4B,GAA5B,CAAkCc,QAAQ,CAACC,IAAT,CAAcO,IAAd,CAAmB,CAAnB,EAAsBrB,OAAzD,CAAd,CACD,CACF,CAJD,EAKD,CANQ,CAMN,EANM,CAAT,CAQF,mBACE,YAAK,SAAS,CAAC,OAAf,uBACE,aAAK,SAAS,CAAC,eAAf,wBACY,mCADZ,cAEY,cAAO,EAAE,CAAC,iBAAV,CAA4B,IAAI,CAAC,OAAjC,CAAyC,WAAW,CAAC,eAArD,CAAqE,QAAQ,CAAE,kBAACsB,CAAD,CAAM,CACnFpB,QAAQ,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACD,CAFD,EAFZ,cAKY,qCALZ,cAMY,cAAO,EAAE,CAAC,iBAAV,CAA4B,IAAI,CAAC,UAAjC,CAA4C,WAAW,CAAC,iBAAxD,CAA0E,QAAQ,CAAE,kBAACF,CAAD,CAAM,CACxFlB,UAAU,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CACD,CAFD,EANZ,cASY,eAAQ,OAAO,CAAEd,KAAjB,qBATZ,GADF,EADF,CAeC,CAGH,cAAeZ,MAAf"},"metadata":{},"sourceType":"module"}