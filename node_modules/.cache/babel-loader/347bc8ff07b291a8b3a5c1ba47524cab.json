{"ast":null,"code":"import _slicedToArray from\"C:/Users/Desktop/Desktop/ERP/Projekat/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{BrowserRouter as Router,Route,Routes,Link}from'react-router-dom';import Home from'./pages/Home';import Garderoba from'./pages/Garderoba';import Korisnici from'./pages/Korisnici';import Login from'./pages/Login';import Registracija from'./pages/Registracija';import DodavanjeGarderobe from'./pages/DodavanjeGarderobe';import axios from'axios';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),uloga=_useState2[0],setUloga=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),korisnik=_useState4[0],setKorisnik=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cart=_useState6[0],setCart=_useState6[1];var _useState7=useState({\"loggedIn\":false,\"user\":[]}),_useState8=_slicedToArray(_useState7,2),authState=_useState8[0],setAuthState=_useState8[1];axios.defaults.withCredentials=true;useEffect(function(){axios.get(\"http://localhost:3100/login\").then(function(response){if(response.data.loggedIn===true){setUloga(response.data.user[0].uloga);setKorisnik(response.data.user[0].ime+' '+response.data.user[0].prezime);}});},[]);var logout=function logout(){console.log(\"Logout\");setAuthState({loggedIn:\"false\",user:\"\"});setUloga(false);console.log(authState);axios.defaults.withCredentials=false;};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Logo\",src:\"https://scontent.fbeg1-1.fna.fbcdn.net/v/t1.15752-9/280749795_357479029695812_2987377930348516338_n.png?_nc_cat=104&ccb=1-6&_nc_sid=ae9488&_nc_eui2=AeG4fTyGQWrygvtk8jwSOYPE19uHgQVmiovX24eBBWaKi8CrFsGHsgBR-ac8nRI9I4w&_nc_ohc=Q93jXR2cTPUAX-cLWEX&tn=eRJTlqf-sCXsErtX&_nc_ht=scontent.fbeg1-1.fna&oh=03_AVKHPaMgRjKDpqgM361aye9QvD3ADcKpaICMtwFlvqQDpQ&oe=62AB8068\",width:\"160\",height:\"90\"}),/*#__PURE__*/_jsx(Link,{to:\"/pocetna\",children:\" Po\\u010Detna\"}),/*#__PURE__*/_jsx(Link,{to:\"/garderoba\",children:\" Garderoba \"}),uloga===\"Administrator\"&&/*#__PURE__*/_jsx(Link,{to:\"/korisnici\",children:\" Korisnici \"}),uloga===\"Administrator\"&&/*#__PURE__*/_jsx(Link,{to:\"/dodavanje_garderobe\",children:\" Dodajte garderobu \"}),!uloga&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\" Prijavite se \"}),\", \",/*#__PURE__*/_jsx(Link,{to:\"/registracija\",children:\" Registracija \"}),\" \"]}),uloga&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loggedInContainer\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",korisnik,\" \"]}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loggedInContainer\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:logout,children:\" Odjavite se\"}),/*#__PURE__*/_jsx(Link,{to:\"/korpa\",children:\" \\uD83D\\uDED2 \"})]}),\" \"]}),!uloga&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loggedInContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Link,{to:\"/korpa\",children:\" \\uD83D\\uDED2 \"})}),/*#__PURE__*/_jsx(\"span\",{children:5})]})}),\" \"]})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/pocetna\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/garderoba\",element:/*#__PURE__*/_jsx(Garderoba,{})}),uloga===\"Administrator\"&&/*#__PURE__*/_jsx(Route,{path:\"/dodavanje_garderobe\",element:/*#__PURE__*/_jsx(DodavanjeGarderobe,{})}),!uloga&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),\", \",/*#__PURE__*/_jsx(Route,{path:\"/registracija\",element:/*#__PURE__*/_jsx(Registracija,{})}),\" \"]}),/*#__PURE__*/_jsx(Route,{path:\"/korisnici\",element:/*#__PURE__*/_jsx(Korisnici,{})}),/*#__PURE__*/_jsx(Route,{path:\"/korpa\",element:/*#__PURE__*/_jsx(Home,{})})]})]})});};export default App;","map":{"version":3,"names":["BrowserRouter","Router","Route","Routes","Link","Home","Garderoba","Korisnici","Login","Registracija","DodavanjeGarderobe","axios","useEffect","useState","App","uloga","setUloga","korisnik","setKorisnik","cart","setCart","authState","setAuthState","defaults","withCredentials","get","then","response","data","loggedIn","user","ime","prezime","logout","console","log"],"sources":["C:/Users/Desktop/Desktop/ERP/Projekat/client/src/App.js"],"sourcesContent":["\nimport {BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom'\nimport Home from './pages/Home';\nimport Garderoba from './pages/Garderoba';\nimport Korisnici from './pages/Korisnici';\nimport Login from './pages/Login';\nimport Registracija from './pages/Registracija';\nimport DodavanjeGarderobe from './pages/DodavanjeGarderobe';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\n\nfunction App() {   \nconst [uloga, setUloga] = useState(\"\");\nconst[korisnik, setKorisnik] = useState(\"\");\nconst [cart, setCart] = useState([]);\nconst [authState, setAuthState] = useState({\n  \"loggedIn\": false,\n  \"user\": [  ]\n});\n\naxios.defaults.withCredentials = true;\nuseEffect(()=>{\n  axios.get(\"http://localhost:3100/login\").then((response) => {\n    if (response.data.loggedIn === true) {\n      setUloga(response.data.user[0].uloga); \n      setKorisnik(response.data.user[0].ime + ' ' + response.data.user[0].prezime);\n    }\n  });\n}, []);\n\nconst logout = () => {\n  console.log(\"Logout\");\n  setAuthState({ loggedIn: \"false\", user: \"\" });\n  setUloga(false);\n  \n  console.log(authState);\n  axios.defaults.withCredentials = false;\n};\nreturn (\n<div className=\"App\">\n<Router>\n  <div className=\"navbar\">\n    <img alt=\"Logo\" src=\"https://scontent.fbeg1-1.fna.fbcdn.net/v/t1.15752-9/280749795_357479029695812_2987377930348516338_n.png?_nc_cat=104&ccb=1-6&_nc_sid=ae9488&_nc_eui2=AeG4fTyGQWrygvtk8jwSOYPE19uHgQVmiovX24eBBWaKi8CrFsGHsgBR-ac8nRI9I4w&_nc_ohc=Q93jXR2cTPUAX-cLWEX&tn=eRJTlqf-sCXsErtX&_nc_ht=scontent.fbeg1-1.fna&oh=03_AVKHPaMgRjKDpqgM361aye9QvD3ADcKpaICMtwFlvqQDpQ&oe=62AB8068\" width=\"160\" height=\"90\"></img>\n    <Link to=\"/pocetna\"> Poƒçetna</Link> \n    <Link to=\"/garderoba\"> Garderoba </Link>\n    {uloga === \"Administrator\" && <Link to=\"/korisnici\"> Korisnici </Link>}\n    {uloga === \"Administrator\" && <Link to=\"/dodavanje_garderobe\"> Dodajte garderobu </Link>}\n    {!uloga && (<> <Link to=\"/login\"> Prijavite se </Link>, <Link to=\"/registracija\"> Registracija </Link> </>)}\n    {uloga && (<><div className=\"loggedInContainer\">\n        <h1> {korisnik} </h1> </div>\n        <div className=\"loggedInContainer\">\n        <button onClick={logout}> Odjavite se</button> \n        <Link to=\"/korpa\"> üõí </Link>\n    </div> </>) }\n    {!uloga && (<><div className=\"loggedInContainer\">      \n     <div className=\"cart\">\n      <span>\n        <Link to=\"/korpa\"> üõí </Link>\n      </span>\n      <span>{5}</span>\n    </div>\n    </div> </>) }\n    </div>\n  <Routes >\n    <Route path='/'  element={<Home/>} />\n    <Route path='/pocetna'  element={<Home/>} />\n    <Route path='/garderoba' element={<Garderoba/>} />\n    {uloga === \"Administrator\" && <Route path='/dodavanje_garderobe' element={<DodavanjeGarderobe/>} />}\n    {!uloga && (<><Route path='/login' element={<Login/>} />, <Route path='/registracija' element={<Registracija/>}/> </>)}\n    <Route path='/korisnici' element={<Korisnici/>} />\n    <Route path='/korpa'  element={<Home/>} />\n  </Routes >\n</Router>\n</div>\n);\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}